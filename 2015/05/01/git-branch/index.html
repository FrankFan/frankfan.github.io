<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 关于 git branch 命令 · Frank Fan's Blog</title><meta name="description" content="关于 git branch 命令 - Frank Fan"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://fy98.com/atom.xml" title="Frank Fan's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">关于</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">关于 git branch 命令</h1><div class="post-info">2015年5月1日</div><div class="post-content"><p><code>git</code>最强大的功能之一就是分支管理，下面总结下常用的<code>branch</code>命令。</p>
<h2 id="查看分支"><a href="#查看分支" class="headerlink" title="查看分支"></a>查看分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -a <span class="comment"># 列出所有分支,包括本地的和remote的</span></span><br><span class="line">* develop</span><br><span class="line">  master</span><br><span class="line"></span><br><span class="line">$ git branch <span class="comment"># 只列出本地分支</span></span><br><span class="line">* develop</span><br><span class="line">  master</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/develop</span><br><span class="line">  remotes/origin/master</span><br></pre></td></tr></table></figure>
<h2 id="创建分支-git-checkout-b-branchname"><a href="#创建分支-git-checkout-b-branchname" class="headerlink" title="创建分支 git checkout -b [branchname]"></a>创建分支 git checkout -b [branchname]</h2><p>我们经常需要基于<code>master</code>拉一个分支进行开发，开发完成之后再将代码合并会<code>master</code>分支.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ git branch testing <span class="comment"># 创建一个叫 `testing` 的分支</span></span><br><span class="line"></span><br><span class="line">$ git branch <span class="comment"># 列出本地分支，发现我们还在develop分支上</span></span><br><span class="line">* develop</span><br><span class="line">  master</span><br><span class="line">  testing</span><br><span class="line"></span><br><span class="line">$ git checkout testing <span class="comment"># 切换到testing分支上</span></span><br><span class="line">Switched to branch <span class="string">'testing'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 上面2个命令，首先创建了一个分支，然后再切换到新的分支上。</span></span><br><span class="line"></span><br><span class="line">$ git checkout -b <span class="string">'testing2'</span> <span class="comment"># 这个命令结合了上面2条命令，创建分支后自动切换到新分支上</span></span><br><span class="line">Switched to a new branch <span class="string">'testing2'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将本地分支push到远程</span></span><br><span class="line">$ git push origin testing</span><br></pre></td></tr></table></figure>
<h2 id="删除分支-git-branch-d-branchname"><a href="#删除分支-git-branch-d-branchname" class="headerlink" title="删除分支 git branch -d [branchname]"></a>删除分支 git branch -d [branchname]</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d testing2</span><br><span class="line">Deleted branch testing2 (was 3ce3fc3). <span class="comment"># 删除成功</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果恰巧你当前也在要被删除的分支上，git就会报错：</span></span><br><span class="line"><span class="comment"># error: Cannot delete the branch 'testing2' which you are currently on.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除远程分支</span></span><br><span class="line">$ git push origin :[branchname]</span><br><span class="line">git push origin :testing</span><br><span class="line">To git@github.com:<span class="built_in">test</span>/testing.git</span><br><span class="line">- [deleted] testing</span><br><span class="line"><span class="comment"># 冒号前面的空格不能少，原理是把一个空分支push到server上，相当于删除该分支</span></span><br></pre></td></tr></table></figure>
<h2 id="切换分支-git-checkout-branchname"><a href="#切换分支-git-checkout-branchname" class="headerlink" title="切换分支 git checkout [branchname]"></a>切换分支 git checkout [branchname]</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout testing <span class="comment"># 切换到testing分支上</span></span><br><span class="line">Switched to branch <span class="string">'testing'</span></span><br></pre></td></tr></table></figure>
<h2 id="合并分支（解决冲突）"><a href="#合并分支（解决冲突）" class="headerlink" title="合并分支（解决冲突）"></a>合并分支（解决冲突）</h2><p>开发分支是用来开发新功能的，开发完毕后还是要将代码饭和到主分支 <code>master</code> 中。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master <span class="comment"># 首先切换到 master 分支</span></span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line">Your branch is up-to-date with <span class="string">'origin/master'</span>.</span><br><span class="line"></span><br><span class="line">$ git merge testing</span><br><span class="line"><span class="comment"># git会自动合并，如果有冲突则解决冲突</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 冲突了， 解决冲突的办法是根据terminal的提示一个文件一个文件的修改。</span></span><br><span class="line">Auto-merging README.md</span><br><span class="line">CONFLICT (content): Merge conflict <span class="keyword">in</span> README.md</span><br><span class="line">Automatic merge failed; fix conflicts and <span class="keyword">then</span> commit the result.</span><br></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2015/05/27/install-ruby-and-compass-in-mac-os-x/" class="prev">上一篇</a><a href="/2015/04/15/remember-git-push-100-days-continuously/" class="next">下一篇</a></div><div class="copyright"><p>© 2014 - 2018 <a href="http://fy98.com">Frank Fan</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>